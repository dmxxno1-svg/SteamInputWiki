```markdown
# 第 02c 章：混合输入（Mixed input）

## 什么是混合输入？

“混合输入”（我在此使用的名称）、“同时输入”（simultaneous input）等，其实是指同一玩家想要或正在同时使用手柄和键鼠两种输入方式的情况（因此也有人称其为“同时”输入）。

通常这种情况在第一人称射击或其他需要精确瞄准的游戏中最为常见：玩家希望用摇杆进行移动的模拟控制，同时用鼠标进行瞄准。这样的玩法在 PC 上非常有效，因此也越来越受欢迎。

混合输入的例子很多。最基本的是玩家左手持 Xbox 手柄、右手操作鼠标。有些人会用 PlayStation 的手柄以便单手更符合人体工学。有些设备甚至是专为这种情境设计的一手式控制器。

带有模拟 WASD 的键盘（可以将 WASD 当作左摇杆使用）也逐渐出现，还有像 Azeron 这种一手宏键盘，拇指处提供模拟摇杆。这些例子超出了 Steam Input 的范围，但说明混合输入正在变得流行。

本指南关注的范围是那些配备触摸板或陀螺仪（或两者兼有）的控制器，包括 Switch Pro（无触摸板但有陀螺）、DualShock 4 / DualSense（有陀螺且带辅助触摸板）、Steam Controller（主要为触摸板和陀螺）以及即将到来的 Steam Deck（集成多数功能）。抱歉 Xbox 粉丝，你们常用的手柄缺少某些关键特性。

这些单一设备就能实现混合输入：触摸板和陀螺可以被设为鼠标控制，而模拟摇杆仍保留其模拟移动功能。

## 不幸的是，并非所有游戏都支持混合输入，而且支持程度是一个连续体。

有些游戏会直接将玩家锁定在游戏检测到的第一种输入方式上。

有些游戏会在不同输入系统之间来回切换，这可能导致摇杆或鼠标输入被减速或中断，或者如果渲染引擎与输入绑定，可能会导致性能下降到无法玩耍的程度。

另一些游戏虽然技术上允许混合输入，但按钮提示会在游戏手柄提示和键鼠提示之间快速闪烁，令人非常困扰。

针对兼容性问题有一些变通方法，但它们总会有妥协。

第一种变通方式是将手柄全部重新绑定为键盘/鼠标绑定。

如在方向键章节所述，你可以把 dpad 模式设置为 WASD，然后开启模拟仿真以让其更像模拟输入。

这种方法有两个缺点：第一，会出现按钮提示与实际控制不匹配；第二，在某些游戏中模拟仿真会造成动画问题。并非理想方案。

第二种变通方式是全部使用手柄绑定。

如前所述，鼠标-摇杆（mouse-joystick）允许你把触摸板或陀螺当作鼠标来使用，但该输入会被转换为摇杆移动。

这有一个主要缺点：鼠标-摇杆受限于游戏如何处理摇杆输入，因此体验高度依赖于游戏，并且永远不会像真实鼠标那样顺畅。可能出现的问题包括死区导致的僵硬网格移动、奇怪的加速行为（你越快操作，游戏响应反而越慢）等，总体体验并不好。

需要注意的是：不支持混合输入并不等于游戏无法用支持混合输入的硬件玩。Steam Controller 用户已经习惯将所有绑定全部设为键鼠绑定（不做 WASD 模拟），并忍受不匹配的提示符。游戏仍然可以玩。只是体验不会尽善尽美。

有鉴于此…

## 致开发者的一点请求：

随着能启用混合输入的设备越来越多，请在设计时确保你的游戏支持这种玩法。

至少请测试并确保在同时使用摇杆移动与鼠标瞄准时没有明显问题。

除此之外，请考虑给玩家更多选择。自动设备检测有其用途，但应该把它作为一个可选项（或默认可选的折中方案），允许玩家锁定他们偏好的图标集（glyph set）作为按钮提示。

如果愿意更进一步，你可以原生支持手柄的陀螺仪作为鼠标输入。虽然这对陀螺用户是个解决方案，但要记住这仍然无法覆盖所有混合输入的示例。

如果你是开发者并且只从这篇文章带走一条信息，那应该是：“混合输入值得被支持”。尤其在现在这个时期更是如此。如果 Steam Deck 的热度如传言般高涨，确保玩家可以充分利用他们的控制方式来玩你的游戏会非常重要。

最后一点：这同样适用于实现 SIAPI（Steam Input API）。如果你的 SIAPI 实现中没有 absolute_mouse 输入风格，玩家想用 SIAPI+鼠标 的场景也会成为混合输入的一种情况。比如《死亡搁浅》就做得很好：使用 SIAPI，同时允许鼠标输入并给予玩家锁定按钮提示的选项。向《死亡搁浅》学习。

```
